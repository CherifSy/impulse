!function(v){if("object"==typeof exports)module.exports=v();else if("function"==typeof define&&define.amd)define(v);else{var c;"undefined"!=typeof window?c=window:"undefined"!=typeof global?c=global:"undefined"!=typeof self&&(c=self);c.Impulse=v()}}(function(){return function c(d,g,b){function a(e,h){if(!g[e]){if(!d[e]){var l="function"==typeof require&&require;if(!h&&l)return l(e,!0);if(f)return f(e,!0);throw Error("Cannot find module '"+e+"'");}l=g[e]={exports:{}};d[e][0].call(l.exports,function(b){var f=
d[e][1][b];return a(f?f:b)},l,l.exports,c,d,g,b)}return g[e].exports}for(var f="function"==typeof require&&require,h=0;h<b.length;h++)a(b[h]);return a}({1:[function(c,d,g){var b=c("./body"),a=c("./simulation"),f=c("./boundry");g=c("./animation");var h=c("./vector"),e=c("./util").height;d.exports=g({defaultOptions:{acceleration:1E3,bounce:!1,minBounceDistance:5,damping:.2},onStart:function(c,l,k,n,m,q){q=k.sub(l).normalize();var s=q.mult(n.acceleration),t=q.mult(n.bounceAcceleration||n.acceleration),
d=f({left:k.x>l.x?-Infinity:k.x,right:k.x>l.x?k.x:Infinity,top:k.y>l.y?-Infinity:k.y,bottom:k.y>l.y?k.y:Infinity}),g;if(.001>k.sub(l).norm())return m.done(k,c);var r=this._body=b(c,l,{accelerate:function(a,b){return g?t:s},update:function(a,b){d.contains(a)?m.state(a,b):n.bounce&&Math.abs(e(t.norm(),b.norm()*n.damping,0))>n.minBounceDistance?(g=!0,r.position=h(k),r.velocity.selfMult(-n.damping),m.state(k,r.velocity)):m.done(k,b)}});a.addBody(this._body)},onEnd:function(){a.removeBody(this._body)}})},
{"./animation":2,"./body":4,"./boundry":5,"./simulation":11,"./util":13,"./vector":14}],2:[function(c,d,g){var b=c("lodash.defaults"),a=window.Promise||c("promise"),f=c("./boundry"),h=c("./vector"),e=c("component-emitter"),p={to:function(a,b){this._to=a instanceof f?a:h(a,b);return this},velocity:function(a,b){this._velocity=h(a,b);return this},from:function(a,b){this._from=h(a,b);return this},_updateState:function(a,b){this._phys.position(a);this._phys.velocity(b)},cancel:function(){this._onEnd();
this._running=!1;this._reject()},running:function(){return this._running||!1},start:function(){var a=this,k=this._from?this._from:this._phys.position(),e=this._to?this._to:this._phys.position(),m=this._velocity?this._velocity:this._phys.velocity(),c=b({},this._opts||{},this._defaultOpts);this._phys._startAnimation(this);this._running=!0;e instanceof f&&(e=e.nearestIntersect(k,m));this._onStart(m,k,e,c,{state:function(b,e){a._updateState(b,e)},done:function(b,e){a._updateState(b,e);a._onEnd();a._running=
!1;a._resolve({position:b,velocity:e})},cancel:function(b,e){a._updateState(b,e);a._onEnd();a._running=!1;a._reject()}});return a._ended}};d.exports=function(b){var k=function(e,k){var f=this;this._opts=k;this._phys=e;this._onStart=b.onStart;this._onEnd=b.onEnd;this._defaultOpts=b.defaultOptions;this._ended=new a(function(a,b){f._resolve=a;f._reject=b});this.start=this.start.bind(this)};e(k.prototype);k.prototype=p;return k}},{"./boundry":5,"./vector":14,"component-emitter":19,"lodash.defaults":20,
promise:27}],3:[function(c,d,g){function b(b,e,f){this._phys=b;this._opts=a({},f||{},p);this._position=b.position();this._velocity=b.velocity();this._attachment="function"===typeof e.position?e.position.bind(e):e}var a=c("lodash.defaults"),f=c("./vector"),h=c("./simulation"),e=c("./body"),p={tension:100,damping:10,seperation:0,offset:{x:0,y:0}};d.exports=b;b.prototype.position=function(a,b){if(0===arguments.length)return this._position;this._body?this._body.position=this._position=f(a,b):this._position=
f(a,b)};b.prototype.velocity=function(a,b){this._body?this._body.velocity=this._velocity=f(a,b):this._velocity=f(a,b)};b.prototype.cancel=function(a,b){this._running=!1;h.removeBody(this._body)};b.prototype.stop=function(a,b){this._running=!1;h.removeBody(this._body)};b.prototype.running=function(a,b){return this._running};window.unit=0;b.prototype.start=function(){var a=this._attachment,b=this._opts,f=this._phys,m=this._velocity,c=this._position,s=this;f._startAnimation(this);this._running=!0;var d=
this._body=e(m,c,{accelerate:function(e,f){var m=e.position.selfSub(a()),c=m.norm(),m=m.normalize();0===m.x&&0===m.y&&(m.x=m.y=1,m.normalize());return m.selfMult(-b.tension).selfMult(c-b.seperation).selfSub(e.velocity.selfMult(b.damping))},update:function(a,e){s._position=d.position;s._velocity=d.velocity;if(b.offset){var m=a.add(b.offset);f.position(m)}else f.position(a);f.velocity(e)}});h.addBody(d);return this}},{"./body":4,"./simulation":11,"./vector":14,"lodash.defaults":20}],4:[function(c,d,
g){function b(f,c,e){if(!(this instanceof b))return new b(f,c,e);this.previousPosition=this.position=a(c);this.velocity=a(f);this._fns=e}var a=c("./vector");d.exports=b;b.prototype.update=function(a){a=this.previousPosition.clone().lerp(this.position,a);this._fns.update(a,this.velocity)};b.prototype.accelerate=function(a,b){return this._fns.accelerate(a,b)};b.prototype.atRest=function(){return.01>this.velocity.norm()};b.prototype.atPosition=function(b){return.01>this.position.sub(a(b)).norm()}},{"./vector":14}],
5:[function(c,d,g){function b(a,b,c){a=(a-b.y)/c.y;return b.add(c.clone().mult(a))}function a(a,b,c){a=(a-b.x)/c.x;return b.add(c.clone().mult(a))}function f(a){if(!(this instanceof f))return new f(a);this.left="undefined"!==typeof a.left?a.left:-Infinity;this.right="undefined"!==typeof a.right?a.right:Infinity;this.top="undefined"!==typeof a.top?a.top:-Infinity;this.bottom="undefined"!==typeof a.bottom?a.bottom:Infinity}var h=c("./vector");d.exports=f;f.prototype.applyDamping=function(a,b){var c=
a.x,f=a.y;c<this.left&&(c=this.left-(this.left-c)*b);f<this.top&&(f=this.top-(this.top-f)*b);c>this.right&&(c=this.right-(this.right-c)*b);f>this.bottom&&(f=this.bottom-(this.bottom-f)*b);return h(c,f)};f.prototype.contains=function(a){return a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};f.prototype.nearestIntersect=function(c,f){var d=h(f).normalize();c=h(c);var k;0>f.y&&(k=b(this.top,c,d));0<f.y&&(k=b(this.bottom,c,d));var n;if(n=k)n=k.x,n=n>=this.left&&n<=this.right;if(n)return k;
0>f.x&&(k=a(this.left,c,d));0<f.x&&(k=a(this.right,c,d));if(d=k)d=k.y,d=d>=this.top&&d<=this.bottom;if(d)return k;k=Math.abs(c.x-this.left)<Math.abs(c.x-this.right)?this.left:this.right;d=Math.abs(c.y-this.top)<Math.abs(c.y-this.bottom)?this.top:this.bottom;return k<d?h(k,c.y):h(c.x,d)}},{"./vector":14}],6:[function(c,d,g){var b=c("./body"),a=c("./simulation"),f=c("./boundry");c=c("./animation");d.exports=c({defaultOptions:{deceleration:400},onStart:function(c,e,d,l,k,n){var m=d.sub(e).normalize(),
q=m.mult(l.deceleration).negate(),s=f({left:Math.min(d.x,e.x),right:Math.max(d.x,e.x),top:Math.min(d.y,e.y),bottom:Math.max(d.y,e.y)});c=m.mult(c.norm());this._body=b(c,e,{accelerate:function(a,b){return q},update:function(a,b){m.directionEqual(b)?s.contains(a)?k.state(a,b):k.done(d,b):k.cancel(a,{x:0,y:0})}});a.addBody(this._body)},onEnd:function(){a.removeBody(this._body)}})},{"./animation":2,"./body":4,"./boundry":5,"./simulation":11}],7:[function(c,d,g){function b(b,c,d){this._phys=b;"function"===
typeof c?(this._startFn=c,c={}):this._startFn=d;this._opts=a({},f,c);c=(c=this._opts.handle)&&!c.length?[c]:c&&c.length?[].slice.call(c):b.els;c.forEach(this._setupHandle,this)}g=c("component-emitter");var a=c("lodash.defaults"),f={};d.exports=b;g(b.prototype);b.prototype.moved=function(){return this._moved};b.prototype._setupHandle=function(a){a.addEventListener("touchstart",this._start.bind(this));a.addEventListener("mousedown",this._start.bind(this));a.addEventListener("touchmove",this._move.bind(this));
window.addEventListener("mousemove",this._move.bind(this));a.addEventListener("touchend",this._end.bind(this));window.addEventListener("mouseup",this._end.bind(this))};b.prototype._start=function(a){a.preventDefault();this._mousedown=!0;this._moved=!1;this._interaction=this._phys.interact({boundry:this._opts.boundry,damping:this._opts.damping,direction:this._opts.direction});var b=this._interaction.start(a);this._startFn&&this._startFn(b);this.emit("start",a)};b.prototype._move=function(a){this._mousedown&&
(a.preventDefault(),this._moved=!0,this._interaction.update(a),this.emit("move",a))};b.prototype._end=function(a){this._mousedown&&(a.preventDefault(),this._mousedown=!1,this._interaction.end(),this.emit("end",a))}},{"component-emitter":19,"lodash.defaults":20}],8:[function(c,d,g){function b(c){if(!(this instanceof b))return new b(c);"function"===typeof c?(this._render=c,this.els=[]):(this.els=c.length?[].slice.call(c):[c],this._renderer=new f(this.els),this._render=this._renderer.update.bind(this._renderer));
this._position=a(0,0);this._velocity=a(0,0)}c("./simulation");var a=c("./vector"),f=c("./renderer");c("lodash.defaults");var h=c("./spring"),e=c("./attach-spring"),p=c("./decelerate"),l=c("./accelerate"),k=c("./drag"),n=c("./interact");g=c("./boundry");c=window.Promise||c("promise");d.exports=b;b.Boundry=g;b.Vector=a;b.Promise=c;b.prototype.style=function(){this._renderer.style.apply(this._renderer,arguments);return this};b.prototype.visible=function(){this._renderer.visible.apply(this._renderer,
arguments);return this};b.prototype.direction=function(a){var b=this.velocity(),c,f;0>b.x?c="left":0<b.x&&(c="right");0>b.y?f="up":0<b.y&&(f="down");b=c+(f||"").toUpperCase();return a===c||a===f||a===b};b.prototype.atRest=function(){var a=this.velocity();return 0===a.x&&0===a.y};b.prototype._startAnimation=function(a){this._currentAnimation&&this._currentAnimation.running()&&this._currentAnimation.cancel();this._currentAnimation=a};b.prototype.velocity=function(b,c){if(!arguments.length)return this._velocity;
this._velocity=a(b,c);return this};b.prototype.position=function(b,c){if(!arguments.length)return this._position.clone();this._position=a(b,c);this._render(this._position.x,this._position.y);return this};b.prototype.interact=function(a){return new n(this,a)};b.prototype.drag=function(a,b){return new k(this,a,b)};b.prototype.spring=function(a){return new h(this,a)};b.prototype.decelerate=function(a){return new p(this,a)};b.prototype.accelerate=function(a){return new l(this,a)};b.prototype.attachSpring=
function(a,b){return new e(this,a,b)}},{"./accelerate":1,"./attach-spring":3,"./boundry":5,"./decelerate":6,"./drag":7,"./interact":9,"./renderer":10,"./simulation":11,"./spring":12,"./vector":14,"lodash.defaults":20,promise:27}],9:[function(c,d,g){function b(b,c){this._phys=b;this._running=!1;this._opts=a({},c,l)}var a=c("lodash.defaults"),f=c("touch-velocity"),h=c("./vector"),e=c("Promise"),p=c("./util");c=c("./boundry");d.exports=b;var l={boundry:c({}),damping:0,direction:"both"};b.prototype.position=
function(a,b){var c=this._opts.direction,f=this._opts.boundry,e=h(a,b);"both"!==c&&"horizontal"!==c&&(e.x=0);"both"!==c&&"vertical"!==c&&(e.y=0);this._veloX.updatePosition(e.x);this._veloY.updatePosition(e.y);this._phys.velocity(this._veloX.getVelocity(),this._veloY.getVelocity());e=f.applyDamping(e,this._opts.damping);this._phys.position(e);return this};b.prototype.update=function(a){a=a.originalEvent||a;a=p.eventVector(a).sub(this._startPosition);this.position(a);return this};b.prototype.start=
function(a){var b=this,c=a&&p.eventVector(a),d=this._phys.position();this._running=!0;this._phys._startAnimation(this);this._startPosition=a&&c.sub(d);this._veloX=new f;this._veloY=new f;this.position(d);return this._ended=new e(function(a,c){b._resolve=a;b._reject=c})};b.prototype.cancel=function(){this._running=!1;this._reject(Error("Canceled the interaction"))};b.prototype.running=function(){return this._running};b.prototype.end=function(){this._phys.velocity(this._veloX.getVelocity(),this._veloY.getVelocity());
this._resolve({velocity:this._phys.velocity(),position:this._phys.position()});return this._ended}},{"./boundry":5,"./util":13,"./vector":14,Promise:16,"lodash.defaults":20,"touch-velocity":31}],10:[function(c,d,g){function b(){p(function(){b();for(var a=h.length-1;0<=a;a--)h[a]()})}function a(a){"undefined"===typeof a.length&&(a=[a]);this.els=a;this.styles={};this.invisibleEls=[];h.push(this.render.bind(this))}var f=["Webkit","Moz","Ms","ms"],h=[],e=function(a){for(var b,c=0;c<f.length;c++)if(b=
f[c]+a[0].toUpperCase()+a.slice(1),"undefined"!==typeof document.body.style[b])return b;return a}("transform"),p=c("raf");b();var l="translate translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skew skewX skewY skewZ".split(" ");d.exports=a;a.prototype.render=function(){if(this.currentPosition){var a,b=this.els,c=this.currentPosition,f=this.styles,d,h=Object.keys(f),g=b.length,p=h.length,r,u;for(r=0;r<g;r++)if(a=[],this.visibleFn&&!this.visibleFn(c,r))this.invisibleEls[r]||
(b[r].style.webkitTransform="translate3d(0, -99999px, 0)"),this.invisibleEls[r]=!0;else{this.invisibleEls[r]=!1;for(u=0;u<p;u++)prop=h[u],d="function"===typeof f[prop]?f[prop](c.x,c.y,r):f[prop],-1!==l.indexOf(prop)?a.push(prop+"("+d+")"):b[r].style[prop]=d;a=a.join(" ");a+=" translateZ(0)";b[r].style[e]=a}}};a.prototype.style=function(a,b){if("object"===typeof a)for(prop in a)a.hasOwnProperty(prop)&&this.style(prop,a[prop]);this.styles[a]=b;return this};a.prototype.visible=function(a){this.visibleFn=
a;return this};a.prototype.update=function(a,b){this.currentPosition={x:a,y:b}}},{raf:29}],11:[function(c,d,g){function b(a,b,c,f){var e=h(0,0);e.selfAdd(a);e.selfAdd(b.add(c).selfMult(2));e.selfAdd(f);e.selfMult(1/6);return e}function a(a,b,c,f){var e={};e.position=p.setv(f.dx).selfMult(c).selfAdd(a.position);e.velocity=l.setv(f.dv).selfMult(c).selfAdd(a.velocity);return{dx:e.velocity.clone(),dv:a.accelerate(e,b).clone()}}function f(){requestAnimationFrame(function(){f();var c=Date.now()/1E3,d=c-
n;n=c;.05<d&&(d=.05);for(m+=d;.015<=m;){for(c=0;c<e.length;c++){e[c].previousPosition=e[c].position.clone();var d=e[c],h=q,l=a(d,h,0,k),g=a(d,h,.0075,l),p=a(d,h,.0075,g),w=a(d,h,.015,p),h=b(l.dx,g.dx,p.dx,w.dx),l=b(l.dv,g.dv,p.dv,w.dv);d.position.selfAdd(h.selfMult(.015));d.velocity.selfAdd(l.selfMult(.015))}q+=.015;m-=.015}for(c=0;c<e.length;c++)e[c].update(m/.015)},16)}var h=c("./vector"),e=[],p=h(0,0),l=h(0,0),k={dx:h(0,0),dv:h(0,0)},n=Date.now()/1E3,m=0,q=0;f();d.exports.addBody=function(a){e.push(a);
return a};d.exports.removeBody=function(a){a=e.indexOf(a);0<=a&&e.splice(a,1)}},{"./vector":14}],12:[function(c,d,g){var b=c("./body"),a=c("./simulation");c("./boundry");c=c("./animation");d.exports=c({defaultOptions:{tension:100,damping:10},onStart:function(c,d,e,g,l){var k=this._body=new b(c,d,{accelerate:function(a,b){return a.position.selfSub(e).selfMult(-g.tension).selfSub(a.velocity.mult(g.damping))},update:function(a,b){k.atRest()&&k.atPosition(e)?l.done(e,{x:0,y:0}):l.state(a,b)}});a.addBody(this._body)},
onEnd:function(){a.removeBody(this._body)}})},{"./animation":2,"./body":4,"./boundry":5,"./simulation":11}],13:[function(c,d,g){var b=c("./vector");d.exports.height=function(a,b,c){var e=-b/(2*a);return a*e*e+b*e+c};d.exports.eventVector=function(a){return b({x:a.touches&&a.touches[0].pageX||a.pageX,y:a.touches&&a.touches[0].pageY||a.pageY})}},{"./vector":14}],14:[function(c,d,g){function b(a,c){if(!(this instanceof b))return new b(a,c);"undefined"!==typeof a.x?(this.x=a.x,this.y=a.y):(this.x=a||
0,this.y=c||0)}d.exports=b;b.prototype.equals=function(a){return a.x===this.x&&a.y===this.y};b.prototype.directionEqual=function(a){return 0<a.x===0<this.x&&0<this.y===0<a.y};b.prototype.dot=function(a){return this.x*a.x+this.y*a.y};b.prototype.negate=function(){return b(this.x,this.y).mult(-1)};b.prototype.norm=function(){return Math.sqrt(this.normsq())};b.prototype.clone=function(){return b(this.x,this.y)};b.prototype.normsq=function(){return this.x*this.x+this.y*this.y};b.prototype.normalize=function(){var a=
this.norm();if(0===a)return this;a=1/a;this.x*=a;this.y*=a;return this};b.prototype.mult=function(a,c){return a instanceof b?new b(a.x*this.x,a.y*this.y):"undefined"===typeof c?new b(a*this.x,a*this.y):new b(a*this.x,c*this.y)};b.prototype.selfMult=function(a,c){if(a instanceof b)return this.x*=a.x,this.y*=a.y,this;if("undefined"===typeof c)return this.x*=a,this.y*=a,this;this.x*=a;this.y*=c;return this};b.prototype.selfAdd=function(a,b){if("undefined"!==typeof a.x)return this.x+=a.x,this.y+=a.y,
this;if("undefined"===typeof b)return this.x+=a,this.y+=a,this;this.x+=a;this.y+=b;return this};b.prototype.selfSub=function(a,b){if("undefined"!==typeof a.x)return this.x-=a.x,this.y-=a.y,this;if("undefined"===typeof b)return this.x-=a,this.y-=a,this;this.x-=a;this.y-=b;return this};b.prototype.sub=function(a,c){return"undefined"!==typeof a.x?new b(this.x-a.x,this.y-a.y):"undefined"===typeof c?new b(this.x-a,this.y-a):new b(this.x-a,this.y-c)};b.prototype.add=function(a,c){return"undefined"!==typeof a.x?
new b(this.x+a.x,this.y+a.y):"undefined"===typeof c?new b(this.x+a,this.y+a):new b(this.x+a,this.y+c)};b.prototype.setv=function(a){this.x=a.x;this.y=a.y;return this};b.prototype.lerp=function(a,b){return this.mult(1-b).add(a.mult(b))}},{}],15:[function(c,d,g){function b(c){function d(a){null===m?s.push(a):h(function(){var b=m?a.onFulfilled:a.onRejected;if(null===b)(m?a.resolve:a.reject)(q);else{var c;try{c=b(q)}catch(f){a.reject(f);return}a.resolve(c)}})}function l(a){try{if(a===t)throw new TypeError("A promise cannot be resolved with itself.");
if(a&&("object"===typeof a||"function"===typeof a)){var b=a.then;if("function"===typeof b){f(b.bind(a),l,k);return}}m=!0;q=a;g()}catch(c){k(c)}}function k(a){m=!1;q=a;g()}function g(){for(var a=0,b=s.length;a<b;a++)d(s[a]);s=null}if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof c)throw new TypeError("not a function");var m=null,q=null,s=[],t=this;this.then=function(c,f){return new b(function(b,e){d(new a(c,f,b,e))})};f(c,l,k)}function a(a,
b,c,f){this.onFulfilled="function"===typeof a?a:null;this.onRejected="function"===typeof b?b:null;this.resolve=c;this.reject=f}function f(a,b,c){var f=!1;try{a(function(a){f||(f=!0,b(a))},function(a){f||(f=!0,c(a))})}catch(d){f||(f=!0,c(d))}}var h=c("asap");d.exports=b},{asap:17}],16:[function(c,d,g){function b(b){this.then=function(c){return"function"!==typeof c?this:new a(function(a,d){f(function(){try{a(c(b))}catch(f){d(f)}})})}}var a=c("./core.js"),f=c("asap");d.exports=a;b.prototype=Object.create(a.prototype);
var h=new b(!0),e=new b(!1),p=new b(null),l=new b(void 0),k=new b(0),n=new b("");a.resolve=function(c){if(c instanceof a)return c;if(null===c)return p;if(void 0===c)return l;if(!0===c)return h;if(!1===c)return e;if(0===c)return k;if(""===c)return n;if("object"===typeof c||"function"===typeof c)try{var f=c.then;if("function"===typeof f)return new a(f.bind(c))}catch(d){return new a(function(a,b){b(d)})}return new b(c)};a.from=a.cast=function(b){var c=Error("Promise.from and Promise.cast are deprecated, use Promise.resolve instead");
c.name="Warning";console.warn(c.stack);return a.resolve(b)};a.denodeify=function(b,c){c=c||Infinity;return function(){var f=this,d=Array.prototype.slice.call(arguments);return new a(function(a,e){for(;d.length&&d.length>c;)d.pop();d.push(function(b,c){b?e(b):a(c)});b.apply(f,d)})}};a.nodeify=function(b){return function(){var c=Array.prototype.slice.call(arguments),d="function"===typeof c[c.length-1]?c.pop():null;try{return b.apply(this,arguments).nodeify(d)}catch(e){if(null===d||"undefined"==typeof d)return new a(function(a,
b){b(e)});f(function(){d(e)})}}};a.all=function(){var b=1===arguments.length&&Array.isArray(arguments[0]),c=Array.prototype.slice.call(b?arguments[0]:arguments);b||(b=Error("Promise.all should be called with a single array, calling it with multiple arguments is deprecated"),b.name="Warning",console.warn(b.stack));return new a(function(a,b){function f(e,h){try{if(h&&("object"===typeof h||"function"===typeof h)){var m=h.then;if("function"===typeof m){m.call(h,function(a){f(e,a)},b);return}}c[e]=h;0===
--d&&a(c)}catch(g){b(g)}}if(0===c.length)return a([]);for(var d=c.length,e=0;e<c.length;e++)f(e,c[e])})};a.reject=function(b){return new a(function(a,c){c(b)})};a.race=function(b){return new a(function(c,f){b.forEach(function(b){a.resolve(b).then(c,f)})})};a.prototype.done=function(a,b){(arguments.length?this.then.apply(this,arguments):this).then(null,function(a){f(function(){throw a;})})};a.prototype.nodeify=function(a){if("function"!=typeof a)return this;this.then(function(b){f(function(){a(null,
b)})},function(b){f(function(){a(b)})})};a.prototype["catch"]=function(a){return this.then(null,a)}},{"./core.js":15,asap:17}],17:[function(c,d,g){(function(b){function a(){for(;c.next;){c=c.next;var b=c.task;c.task=void 0;var d=c.domain;d&&(c.domain=void 0,d.enter());try{b()}catch(h){if(l)throw d&&d.exit(),setTimeout(a,0),d&&d.enter(),h;setTimeout(function(){throw h;},0)}d&&d.exit()}e=!1}var c={task:void 0,next:null},h=c,e=!1,g=void 0,l=!1;if("undefined"!==typeof b&&b.nextTick)l=!0,g=function(){b.nextTick(a)};
else if("function"===typeof setImmediate)g="undefined"!==typeof window?setImmediate.bind(window,a):function(){setImmediate(a)};else if("undefined"!==typeof MessageChannel){var k=new MessageChannel;k.port1.onmessage=a;g=function(){k.port2.postMessage(0)}}else g=function(){setTimeout(a,0)};d.exports=function(a){h=h.next={task:a,domain:l&&b.domain,next:null};e||(e=!0,g())}}).call(this,c("/Users/zach/Development/impulse/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},
{"/Users/zach/Development/impulse/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":18}],18:[function(c,d,g){c=d.exports={};c.nextTick=function(){if("undefined"!==typeof window&&window.setImmediate)return function(a){return window.setImmediate(a)};if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var b=[];window.addEventListener("message",function(a){var c=a.source;c!==window&&null!==c||"process-tick"!==a.data||(a.stopPropagation(),
0<b.length&&b.shift()())},!0);return function(a){b.push(a);window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}();c.title="browser";c.browser=!0;c.env={};c.argv=[];c.binding=function(b){throw Error("process.binding is not supported");};c.cwd=function(){return"/"};c.chdir=function(b){throw Error("process.chdir is not supported");}},{}],19:[function(c,d,g){function b(a){if(a){for(var c in b.prototype)a[c]=b.prototype[c];return a}}d.exports=b;b.prototype.on=b.prototype.addEventListener=
function(a,b){this._callbacks=this._callbacks||{};(this._callbacks[a]=this._callbacks[a]||[]).push(b);return this};b.prototype.once=function(a,b){function c(){d.off(a,c);b.apply(this,arguments)}var d=this;this._callbacks=this._callbacks||{};c.fn=b;this.on(a,c);return this};b.prototype.off=b.prototype.removeListener=b.prototype.removeAllListeners=b.prototype.removeEventListener=function(a,b){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var c=this._callbacks[a];
if(!c)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var d,g=0;g<c.length;g++)if(d=c[g],d===b||d.fn===b){c.splice(g,1);break}return this};b.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks[a];if(c)for(var c=c.slice(0),d=0,g=c.length;d<g;++d)c[d].apply(this,b);return this};b.prototype.listeners=function(a){this._callbacks=this._callbacks||{};return this._callbacks[a]||[]};b.prototype.hasListeners=function(a){return!!this.listeners(a).length}},
{}],20:[function(c,d,g){var b=c("lodash.keys"),a=c("lodash._objecttypes");d.exports=function(c,d,e){var g,l=c,k=l;if(!l)return k;for(var n=arguments,m=0,q="number"==typeof e?2:n.length;++m<q;)if((l=n[m])&&a[typeof l])for(var s=-1,t=a[typeof l]&&b(l),x=t?t.length:0;++s<x;)g=t[s],"undefined"==typeof k[g]&&(k[g]=l[g]);return k}},{"lodash._objecttypes":21,"lodash.keys":22}],21:[function(c,d,g){d.exports={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1}},{}],22:[function(c,d,g){g=
c("lodash._isnative");var b=c("lodash.isobject");c=c("lodash._shimkeys");var a=g(a=Object.keys)&&a;d.exports=a?function(c){return b(c)?a(c):[]}:c},{"lodash._isnative":23,"lodash._shimkeys":24,"lodash.isobject":25}],23:[function(c,d,g){var b=RegExp("^"+String(Object.prototype.toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");d.exports=function(a){return"function"==typeof a&&b.test(a)}},{}],24:[function(c,d,g){var b=c("lodash._objecttypes"),a=Object.prototype.hasOwnProperty;
d.exports=function(c){var d,e=[];if(!c||!b[typeof c])return e;for(d in c)a.call(c,d)&&e.push(d);return e}},{"lodash._objecttypes":21}],25:[function(c,d,g){var b=c("lodash._objecttypes");d.exports=function(a){return!(!a||!b[typeof a])}},{"lodash._objecttypes":21}],26:[function(c,d,g){d.exports=c(15)},{asap:28}],27:[function(c,d,g){arguments[4][16][0].apply(g,arguments)},{"./core.js":26,asap:28}],28:[function(c,d,g){d.exports=c(17)},{"/Users/zach/Development/impulse/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":18}],
29:[function(c,d,g){var b=c("performance-now"),a="undefined"===typeof window?{}:window;c=["moz","webkit"];var f=a.requestAnimationFrame,h=a.cancelAnimationFrame||a.cancelRequestAnimationFrame;for(g=0;g<c.length&&!f;g++)f=a[c[g]+"RequestAnimationFrame"],h=a[c[g]+"CancelAnimationFrame"]||a[c[g]+"CancelRequestAnimationFrame"];if(!f||!h)var e=0,p=0,l=[],k=1E3/60,f=function(a){if(0===l.length){var c=b(),d=Math.max(0,k-(c-e));e=d+c;setTimeout(function(){for(var a=l.slice(0),b=l.length=0;b<a.length;b++)a[b].cancelled||
a[b].callback(e)},d)}l.push({handle:++p,callback:a,cancelled:!1});return p},h=function(a){for(var b=0;b<l.length;b++)l[b].handle===a&&(l[b].cancelled=!0)};d.exports=function(){return f.apply(a,arguments)};d.exports.cancel=function(){h.apply(a,arguments)}},{"performance-now":30}],30:[function(c,d,g){(function(b){(function(){var a,c,g;"undefined"!==typeof performance&&null!==performance&&performance.now?d.exports=function(){return performance.now()}:"undefined"!==typeof b&&null!==b&&b.hrtime?(d.exports=
function(){return(a()-g)/1E6},c=b.hrtime,a=function(){var a;a=c();return 1E9*a[0]+a[1]},g=a()):Date.now?(d.exports=function(){return Date.now()-g},g=Date.now()):(d.exports=function(){return(new Date).getTime()-g},g=(new Date).getTime())}).call(this)}).call(this,c("/Users/zach/Development/impulse/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/Users/zach/Development/impulse/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":18}],
31:[function(c,d,g){function b(){this.positionQueue=[];this.timeQueue=[]}d.exports=b;b.prototype.reset=function(){this.positionQueue.splice(0);this.timeQueue.splice(0)};b.prototype.pruneQueue=function(a){for(;this.timeQueue.length&&this.timeQueue[0]<Date.now()-a;)this.timeQueue.shift(),this.positionQueue.shift()};b.prototype.updatePosition=function(a){this.positionQueue.push(a);this.timeQueue.push(Date.now());this.pruneQueue(50)};b.prototype.getVelocity=function(){this.pruneQueue(1E3);var a=this.timeQueue.length;
return 2>a?0:(this.positionQueue[a-1]-this.positionQueue[0])/((this.timeQueue[a-1]-this.timeQueue[0])/1E3)}},{}]},{},[8])(8)});
