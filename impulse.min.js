!function(v){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=v();else if("function"==typeof define&&define.amd)define([],v);else{var c;"undefined"!=typeof window?c=window:"undefined"!=typeof global?c=global:"undefined"!=typeof self&&(c=self);c.Impulse=v()}}(function(){return function c(d,h,b){function a(e,k){if(!h[e]){if(!d[e]){var l="function"==typeof require&&require;if(!k&&l)return l(e,!0);if(g)return g(e,!0);l=Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",
l;}l=h[e]={exports:{}};d[e][0].call(l.exports,function(b){var g=d[e][1][b];return a(g?g:b)},l,l.exports,c,d,h,b)}return h[e].exports}for(var g="function"==typeof require&&require,k=0;k<b.length;k++)a(b[k]);return a}({1:[function(c,d,h){var b=c("./body"),a=c("./simulation"),g=c("./boundary");h=c("./animation");var k=c("./vector"),e=c("./util").height;d.exports=h({defaultOptions:{acceleration:1E3,bounce:!1,minBounceDistance:5,damping:.2,restitution:.2},onStart:function(c,l,f,n,p,q){q=f.sub(l).normalize();
var r=q.mult(n.acceleration),s=q.mult(n.bounceAcceleration||n.acceleration),t=g({left:f.x>l.x?-Infinity:f.x,right:f.x>l.x?f.x:Infinity,top:f.y>l.y?-Infinity:f.y,bottom:f.y>l.y?f.y:Infinity}),d;if(.001>f.sub(l).norm()&&.001>c.norm())return p.done(f,c);var w=n.restitution||n.damping,h=this._body=b(c,l,{accelerate:function(a,b){return d?s:r},update:function(a,b){t.contains(a)?p.state(a,b):n.bounce&&Math.abs(e(s.norm(),b.norm()*w,0))>n.minBounceDistance?(d=!0,h.position=k(f),h.velocity.selfMult(-n.damping),
p.state(f,h.velocity)):p.done(f,b)}});a.addBody(this._body)},onEnd:function(){a.removeBody(this._body)}})},{"./animation":2,"./body":4,"./boundary":5,"./simulation":11,"./util":13,"./vector":14}],2:[function(c,d,h){var b=c("lodash.defaults"),a=window.Promise||c("promise"),g=c("./boundary"),k=c("./vector"),e=c("component-emitter"),m={to:function(a,b){this._to=a instanceof g?a:k(a,b);return this},velocity:function(a,b){this._velocity=k(a,b);return this},from:function(a,b){this._from=k(a,b);return this},
_updateState:function(a,b){this._phys.position(a);this._phys.velocity(b)},cancel:function(){this._onEnd();this._running=!1;this._reject()},running:function(){return this._running||!1},start:function(){var a=this,f=this._from?this._from:this._phys.position(),e=this._to?this._to:this._phys.position(),p=this._velocity?this._velocity:this._phys.velocity(),c=b({},this._opts||{},this._defaultOpts);this._phys._startAnimation(this);this._running=!0;e instanceof g&&(e=e.nearestIntersect(f,p));this._onStart(p,
f,e,c,{state:function(b,f){a._updateState(b,f)},done:function(b,f){a._updateState(b,f);a._onEnd();a._running=!1;a._resolve({position:b,velocity:f})},cancel:function(b,f){a._updateState(b,f);a._onEnd();a._running=!1;a._reject()}});return a._ended}};d.exports=function(b){var f=function(f,e){var g=this;this._opts=e;this._phys=f;this._onStart=b.onStart;this._onEnd=b.onEnd;this._defaultOpts=b.defaultOptions;this._ended=new a(function(a,b){g._resolve=a;g._reject=b});this.start=this.start.bind(this)};e(f.prototype);
f.prototype=m;return f}},{"./boundary":5,"./vector":14,"component-emitter":15,"lodash.defaults":16,promise:23}],3:[function(c,d,h){function b(b,f,e){this._phys=b;this._opts=a({},e||{},m);this._position=b.position();this._velocity=b.velocity();this._attachment="function"===typeof f.position?f.position.bind(f):f}var a=c("lodash.defaults"),g=c("./vector"),k=c("./simulation"),e=c("./body"),m={tension:100,damping:10,seperation:0,offset:{x:0,y:0}};d.exports=b;b.prototype.position=function(a,b){if(0===arguments.length)return this._position;
this._body?this._body.position=this._position=g(a,b):this._position=g(a,b)};b.prototype.velocity=function(a,b){this._body?this._body.velocity=this._velocity=g(a,b):this._velocity=g(a,b)};b.prototype.cancel=function(a,b){this._running=!1;k.removeBody(this._body)};b.prototype.stop=function(a,b){this._running=!1;k.removeBody(this._body)};b.prototype.running=function(a,b){return this._running};window.unit=0;b.prototype.start=function(){var a=this._attachment,b=this._opts,g=this._phys,p=this._velocity,
c=this._position,m=this;g._startAnimation(this);this._running=!0;var s=this._body=e(p,c,{accelerate:function(e,g){var c=e.position.selfSub(a()),p=c.norm(),c=c.normalize();0===c.x&&0===c.y&&(c.x=c.y=1,c.normalize());return c.selfMult(-b.tension).selfMult(p-b.seperation).selfSub(e.velocity.selfMult(b.damping))},update:function(a,e){m._position=s.position;m._velocity=s.velocity;if(b.offset){var c=a.add(b.offset);g.position(c)}else g.position(a);g.velocity(e)}});k.addBody(s);return this}},{"./body":4,
"./simulation":11,"./vector":14,"lodash.defaults":16}],4:[function(c,d,h){function b(c,k,e){if(!(this instanceof b))return new b(c,k,e);this.previousPosition=this.position=a(k);this.velocity=a(c);this._fns=e}var a=c("./vector");d.exports=b;b.prototype.update=function(a){a=this.previousPosition.clone().lerp(this.position,a);this._fns.update(a,this.velocity)};b.prototype.accelerate=function(a,b){return this._fns.accelerate(a,b)};b.prototype.atRest=function(){return.01>this.velocity.norm()};b.prototype.atPosition=
function(b){return.01>this.position.sub(a(b)).norm()}},{"./vector":14}],5:[function(c,d,h){function b(a,b,c){a=(a-b.y)/c.y;return b.add(c.clone().mult(a))}function a(a,b,c){a=(a-b.x)/c.x;return b.add(c.clone().mult(a))}function g(a){if(!(this instanceof g))return new g(a);this.left="undefined"!==typeof a.left?a.left:-Infinity;this.right="undefined"!==typeof a.right?a.right:Infinity;this.top="undefined"!==typeof a.top?a.top:-Infinity;this.bottom="undefined"!==typeof a.bottom?a.bottom:Infinity}var k=
c("./vector");d.exports=g;g.prototype.applyDamping=function(a,b){var c=a.x,f=a.y;c<this.left&&(c=this.left-(this.left-c)*b);f<this.top&&(f=this.top-(this.top-f)*b);c>this.right&&(c=this.right-(this.right-c)*b);f>this.bottom&&(f=this.bottom-(this.bottom-f)*b);return k(c,f)};g.prototype.contains=function(a){return a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};g.prototype.nearestIntersect=function(c,g){var d=k(g).normalize();c=k(c);var f;0>g.y&&(f=b(this.top,c,d));0<g.y&&(f=b(this.bottom,
c,d));var n;if(n=f)n=f.x,n=n>=this.left&&n<=this.right;if(n)return f;0>g.x&&(f=a(this.left,c,d));0<g.x&&(f=a(this.right,c,d));if(d=f)d=f.y,d=d>=this.top&&d<=this.bottom;if(d)return f;f=Math.abs(c.x-this.left)<Math.abs(c.x-this.right)?this.left:this.right;d=Math.abs(c.y-this.top)<Math.abs(c.y-this.bottom)?this.top:this.bottom;return f<d?k(f,c.y):k(c.x,d)}},{"./vector":14}],6:[function(c,d,h){var b=c("./body"),a=c("./simulation"),g=c("./boundary");c=c("./animation");d.exports=c({defaultOptions:{deceleration:400},
onStart:function(c,e,d,l,f,n){var p=d.sub(e).normalize(),q=p.mult(l.deceleration).negate(),r=g({left:Math.min(d.x,e.x),right:Math.max(d.x,e.x),top:Math.min(d.y,e.y),bottom:Math.max(d.y,e.y)});c=p.mult(c.norm());this._body=b(c,e,{accelerate:function(a,b){return q},update:function(a,b){p.directionEqual(b)?r.contains(a)?f.state(a,b):f.done(d,b):f.cancel(a,{x:0,y:0})}});a.addBody(this._body)},onEnd:function(){a.removeBody(this._body)}})},{"./animation":2,"./body":4,"./boundary":5,"./simulation":11}],
7:[function(c,d,h){function b(b,c,d){this._phys=b;"function"===typeof c?(this._startFn=c,c={}):this._startFn=d;this._opts=a({},g,c);this._opts.boundry&&(console.warn("Warning: Misspelled option 'boundry' is being deprecated. Please use 'boundary' instead."),this._opts.boundary=this._opts.boundry,delete this._opts.boundry);c=(c=this._opts.handle)&&!c.length?[c]:c&&c.length?[].slice.call(c):b.els;c.forEach(this._setupHandle,this)}h=c("component-emitter");var a=c("lodash.defaults"),g={};d.exports=b;
h(b.prototype);b.prototype.moved=function(){return 10<this._interaction.distance()};b.prototype._setupHandle=function(a){a.addEventListener("touchstart",this._start.bind(this));a.addEventListener("mousedown",this._start.bind(this));a.addEventListener("touchmove",this._move.bind(this));window.addEventListener("mousemove",this._move.bind(this));a.addEventListener("touchend",this._end.bind(this));window.addEventListener("mouseup",this._end.bind(this))};b.prototype._start=function(a){this._startTime=
Date.now();a.preventDefault();this._mousedown=!0;this._interaction=this._phys.interact({boundary:this._opts.boundary,damping:this._opts.damping,direction:this._opts.direction});var b=this._interaction.start(a);this._startFn&&this._startFn(b);this.emit("start",a)};b.prototype._move=function(a){this._mousedown&&(a.preventDefault(),this._interaction.update(a),this.emit("move",a))};b.prototype._end=function(a){this._mousedown&&(a.preventDefault(),this._mousedown=!1,this._interaction.end(),this.emit("end",
a))}},{"component-emitter":15,"lodash.defaults":16}],8:[function(c,d,h){function b(c){if(!(this instanceof b))return new b(c);"function"===typeof c?(this._render=c,this.els=[]):(this.els=c.length?[].slice.call(c):[c],this._renderer=new g(this.els),this._render=this._renderer.update.bind(this._renderer));this._position=a(0,0);this._velocity=a(0,0)}c("./simulation");var a=c("./vector"),g=c("./renderer");c("lodash.defaults");var k=c("./spring"),e=c("./attach-spring"),m=c("./decelerate"),l=c("./accelerate"),
f=c("./drag"),n=c("./interact");h=c("./boundary");c=window.Promise||c("promise");d.exports=b;b.Boundary=h;b.Boundry=h;b.Vector=a;b.Promise=c;b.prototype.style=function(){this._renderer.style.apply(this._renderer,arguments);return this};b.prototype.visible=function(){this._renderer.visible.apply(this._renderer,arguments);return this};b.prototype.direction=function(a){var b=this.velocity(),c,f;0>b.x?c="left":0<b.x&&(c="right");0>b.y?f="up":0<b.y&&(f="down");b=c+(f||"").toUpperCase();return a===c||a===
f||a===b};b.prototype.atRest=function(){var a=this.velocity();return 0===a.x&&0===a.y};b.prototype._startAnimation=function(a){this._currentAnimation&&this._currentAnimation.running()&&this._currentAnimation.cancel();this._currentAnimation=a};b.prototype.velocity=function(b,c){if(!arguments.length)return this._velocity;this._velocity=a(b,c);return this};b.prototype.position=function(b,c){if(!arguments.length)return this._position.clone();this._position=a(b,c);this._render(this._position.x,this._position.y);
return this};b.prototype.interact=function(a){return new n(this,a)};b.prototype.drag=function(a,b){return new f(this,a,b)};b.prototype.spring=function(a){return new k(this,a)};b.prototype.decelerate=function(a){return new m(this,a)};b.prototype.accelerate=function(a){return new l(this,a)};b.prototype.attachSpring=function(a,b){return new e(this,a,b)}},{"./accelerate":1,"./attach-spring":3,"./boundary":5,"./decelerate":6,"./drag":7,"./interact":9,"./renderer":10,"./simulation":11,"./spring":12,"./vector":14,
"lodash.defaults":16,promise:23}],9:[function(c,d,h){function b(b,c){this._phys=b;this._running=!1;this._opts=a({},c,l);this._opts.boundry&&(console.warn("Warning: Misspelled option 'boundry' is being deprecated. Please use 'boundary' instead."),this._opts.boundary=this._opts.boundry,delete this._opts.boundry)}var a=c("lodash.defaults"),g=c("touch-velocity"),k=c("./vector"),e=c("promise"),m=c("./util");c=c("./boundary");d.exports=b;var l={boundary:c({}),damping:0,direction:"both"};b.prototype.position=
function(a,b){var c=this._opts.direction,g=this._opts.boundary,e=k(a,b);"both"!==c&&"horizontal"!==c&&(e.x=0);"both"!==c&&"vertical"!==c&&(e.y=0);this._veloX.updatePosition(e.x);this._veloY.updatePosition(e.y);this._phys.velocity(this._veloX.getVelocity(),this._veloY.getVelocity());e=g.applyDamping(e,this._opts.damping);this._phys.position(e);return this};b.prototype.update=function(a){a=a.originalEvent||a;a=m.eventVector(a).sub(this._startPosition);this.position(a);return this};b.prototype.start=
function(a){var b=this,c=a&&m.eventVector(a),d=this._phys.position();this._running=!0;this._phys._startAnimation(this);this._startPosition=a&&c.sub(d);this._initialPosition=this._phys.position();this._veloX=new g;this._veloY=new g;this.position(d);return this._ended=new e(function(a,c){b._resolve=a;b._reject=c})};b.prototype.distance=function(){return this._initialPosition.sub(this._phys.position()).norm()};b.prototype.cancel=function(){this._running=!1;this._reject(Error("Canceled the interaction"))};
b.prototype.running=function(){return this._running};b.prototype.end=function(){this._phys.velocity(this._veloX.getVelocity(),this._veloY.getVelocity());this._resolve({velocity:this._phys.velocity(),position:this._phys.position()});return this._ended}},{"./boundary":5,"./util":13,"./vector":14,"lodash.defaults":16,promise:23,"touch-velocity":27}],10:[function(c,d,h){function b(){m(function(){b();for(var a=k.length-1;0<=a;a--)k[a]()})}function a(a){"undefined"===typeof a.length&&(a=[a]);this.els=a;
this.styles={};this.invisibleEls=[];k.push(this.render.bind(this))}var g=["Webkit","Moz","Ms","ms"],k=[],e=function(a){for(var b,c=0;c<g.length;c++)if(b=g[c]+a[0].toUpperCase()+a.slice(1),"undefined"!==typeof document.body.style[b])return b;return a}("transform"),m=c("raf");b();var l="translate translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skew skewX skewY skewZ".split(" ");d.exports=a;a.prototype.render=function(){if(this.currentPosition){var a,b=this.els,
c=this.currentPosition,g=this.styles,d,k=Object.keys(g),t=b.length,h=k.length,m,u;for(m=0;m<t;m++)if(a=[],this.visibleFn&&!this.visibleFn(c,m))this.invisibleEls[m]||(b[m].style.webkitTransform="translate3d(0, -99999px, 0)"),this.invisibleEls[m]=!0;else{this.invisibleEls[m]=!1;for(u=0;u<h;u++)prop=k[u],d="function"===typeof g[prop]?g[prop](c.x,c.y,m):g[prop],-1!==l.indexOf(prop)?a.push(prop+"("+d+")"):b[m].style[prop]=d;a=a.join(" ");a+=" translateZ(0)";b[m].style[e]=a}}};a.prototype.style=function(a,
b){if("object"===typeof a)for(prop in a)a.hasOwnProperty(prop)&&this.style(prop,a[prop]);this.styles[a]=b;return this};a.prototype.visible=function(a){this.visibleFn=a;return this};a.prototype.update=function(a,b){this.currentPosition={x:a,y:b}}},{raf:25}],11:[function(c,d,h){function b(a,b,c,g){var e=k(0,0);e.selfAdd(a);e.selfAdd(b.add(c).selfMult(2));e.selfAdd(g);e.selfMult(1/6);return e}function a(a,b,c,g){var e={};e.position=l.setv(g.dx).selfMult(c).selfAdd(a.position);e.velocity=f.setv(g.dv).selfMult(c).selfAdd(a.velocity);
return{dx:e.velocity.clone(),dv:a.accelerate(e,b).clone()}}function g(){m(function(){g();var c=Date.now()/1E3,f=c-p;p=c;.05<f&&(f=.05);for(q+=f;.015<=q;){for(c=0;c<e.length;c++){e[c].previousPosition=e[c].position.clone();var f=e[c],d=r,k=a(f,d,0,n),m=a(f,d,.0075,k),l=a(f,d,.0075,m),h=a(f,d,.015,l),d=b(k.dx,m.dx,l.dx,h.dx),k=b(k.dv,m.dv,l.dv,h.dv);f.position.selfAdd(d.selfMult(.015));f.velocity.selfAdd(k.selfMult(.015))}r+=.015;q-=.015}for(c=0;c<e.length;c++)e[c].update(q/.015)},16)}var k=c("./vector"),
e=[],m=c("raf"),l=k(0,0),f=k(0,0),n={dx:k(0,0),dv:k(0,0)},p=Date.now()/1E3,q=0,r=0;g();d.exports.addBody=function(a){e.push(a);return a};d.exports.removeBody=function(a){a=e.indexOf(a);0<=a&&e.splice(a,1)}},{"./vector":14,raf:25}],12:[function(c,d,h){var b=c("./body"),a=c("./simulation");c("./boundary");c=c("./animation");d.exports=c({defaultOptions:{tension:100,damping:10},onStart:function(c,d,e,m,l){var f=this._body=new b(c,d,{accelerate:function(a,b){return a.position.selfSub(e).selfMult(-m.tension).selfSub(a.velocity.mult(m.damping))},
update:function(a,b){f.atRest()&&f.atPosition(e)?l.done(e,{x:0,y:0}):l.state(a,b)}});a.addBody(this._body)},onEnd:function(){a.removeBody(this._body)}})},{"./animation":2,"./body":4,"./boundary":5,"./simulation":11}],13:[function(c,d,h){var b=c("./vector");d.exports.height=function(a,b,c){var e=-b/(2*a);return a*e*e+b*e+c};d.exports.eventVector=function(a){return b({x:a.touches&&a.touches[0].pageX||a.pageX,y:a.touches&&a.touches[0].pageY||a.pageY})}},{"./vector":14}],14:[function(c,d,h){function b(a,
c){if(!(this instanceof b))return new b(a,c);"undefined"!==typeof a.x?(this.x=a.x,this.y=a.y):(this.x=a||0,this.y=c||0)}d.exports=b;b.prototype.equals=function(a){return a.x===this.x&&a.y===this.y};b.prototype.directionEqual=function(a){return 0<a.x===0<this.x&&0<this.y===0<a.y};b.prototype.dot=function(a){return this.x*a.x+this.y*a.y};b.prototype.negate=function(){return b(this.x,this.y).mult(-1)};b.prototype.norm=function(){return Math.sqrt(this.normsq())};b.prototype.clone=function(){return b(this.x,
this.y)};b.prototype.normsq=function(){return this.x*this.x+this.y*this.y};b.prototype.normalize=function(){var a=this.norm();if(0===a)return this;a=1/a;this.x*=a;this.y*=a;return this};b.prototype.mult=function(a,c){return a instanceof b?new b(a.x*this.x,a.y*this.y):"undefined"===typeof c?new b(a*this.x,a*this.y):new b(a*this.x,c*this.y)};b.prototype.selfMult=function(a,c){if(a instanceof b)return this.x*=a.x,this.y*=a.y,this;if("undefined"===typeof c)return this.x*=a,this.y*=a,this;this.x*=a;this.y*=
c;return this};b.prototype.selfAdd=function(a,b){if("undefined"!==typeof a.x)return this.x+=a.x,this.y+=a.y,this;if("undefined"===typeof b)return this.x+=a,this.y+=a,this;this.x+=a;this.y+=b;return this};b.prototype.selfSub=function(a,b){if("undefined"!==typeof a.x)return this.x-=a.x,this.y-=a.y,this;if("undefined"===typeof b)return this.x-=a,this.y-=a,this;this.x-=a;this.y-=b;return this};b.prototype.sub=function(a,c){return"undefined"!==typeof a.x?new b(this.x-a.x,this.y-a.y):"undefined"===typeof c?
new b(this.x-a,this.y-a):new b(this.x-a,this.y-c)};b.prototype.add=function(a,c){return"undefined"!==typeof a.x?new b(this.x+a.x,this.y+a.y):"undefined"===typeof c?new b(this.x+a,this.y+a):new b(this.x+a,this.y+c)};b.prototype.setv=function(a){this.x=a.x;this.y=a.y;return this};b.prototype.lerp=function(a,b){return this.mult(1-b).add(a.mult(b))}},{}],15:[function(c,d,h){function b(a){if(a){for(var c in b.prototype)a[c]=b.prototype[c];return a}}d.exports=b;b.prototype.on=b.prototype.addEventListener=
function(a,b){this._callbacks=this._callbacks||{};(this._callbacks[a]=this._callbacks[a]||[]).push(b);return this};b.prototype.once=function(a,b){function c(){e.off(a,c);b.apply(this,arguments)}var e=this;this._callbacks=this._callbacks||{};c.fn=b;this.on(a,c);return this};b.prototype.off=b.prototype.removeListener=b.prototype.removeAllListeners=b.prototype.removeEventListener=function(a,b){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var c=this._callbacks[a];
if(!c)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var e,d=0;d<c.length;d++)if(e=c[d],e===b||e.fn===b){c.splice(d,1);break}return this};b.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks[a];if(c)for(var c=c.slice(0),e=0,d=c.length;e<d;++e)c[e].apply(this,b);return this};b.prototype.listeners=function(a){this._callbacks=this._callbacks||{};return this._callbacks[a]||[]};b.prototype.hasListeners=function(a){return!!this.listeners(a).length}},
{}],16:[function(c,d,h){var b=c("lodash.keys"),a=c("lodash._objecttypes");d.exports=function(c,d,e){var m,l=c,f=l;if(!l)return f;for(var h=arguments,p=0,q="number"==typeof e?2:h.length;++p<q;)if((l=h[p])&&a[typeof l])for(var r=-1,s=a[typeof l]&&b(l),t=s?s.length:0;++r<t;)m=s[r],"undefined"==typeof f[m]&&(f[m]=l[m]);return f}},{"lodash._objecttypes":17,"lodash.keys":18}],17:[function(c,d,h){d.exports={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1}},{}],18:[function(c,d,h){h=
c("lodash._isnative");var b=c("lodash.isobject");c=c("lodash._shimkeys");var a=h(a=Object.keys)&&a;d.exports=a?function(c){return b(c)?a(c):[]}:c},{"lodash._isnative":19,"lodash._shimkeys":20,"lodash.isobject":21}],19:[function(c,d,h){var b=RegExp("^"+String(Object.prototype.toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");d.exports=function(a){return"function"==typeof a&&b.test(a)}},{}],20:[function(c,d,h){var b=c("lodash._objecttypes"),a=Object.prototype.hasOwnProperty;
d.exports=function(c){var d,e=[];if(!c||!b[typeof c])return e;for(d in c)a.call(c,d)&&e.push(d);return e}},{"lodash._objecttypes":17}],21:[function(c,d,h){var b=c("lodash._objecttypes");d.exports=function(a){return!(!a||!b[typeof a])}},{"lodash._objecttypes":17}],22:[function(c,d,h){function b(c){function d(a){null===p?r.push(a):k(function(){var b=p?a.onFulfilled:a.onRejected;if(null===b)(p?a.resolve:a.reject)(q);else{var c;try{c=b(q)}catch(d){a.reject(d);return}a.resolve(c)}})}function h(a){try{if(a===
s)throw new TypeError("A promise cannot be resolved with itself.");if(a&&("object"===typeof a||"function"===typeof a)){var b=a.then;if("function"===typeof b){g(b.bind(a),h,f);return}}p=!0;q=a;n()}catch(c){f(c)}}function f(a){p=!1;q=a;n()}function n(){for(var a=0,b=r.length;a<b;a++)d(r[a]);r=null}if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof c)throw new TypeError("not a function");var p=null,q=null,r=[],s=this;this.then=function(c,e){return new b(function(b,
f){d(new a(c,e,b,f))})};g(c,h,f)}function a(a,b,c,d){this.onFulfilled="function"===typeof a?a:null;this.onRejected="function"===typeof b?b:null;this.resolve=c;this.reject=d}function g(a,b,c){var d=!1;try{a(function(a){d||(d=!0,b(a))},function(a){d||(d=!0,c(a))})}catch(g){d||(d=!0,c(g))}}var k=c("asap");d.exports=b},{asap:24}],23:[function(c,d,h){function b(b){this.then=function(c){return"function"!==typeof c?this:new a(function(a,d){g(function(){try{a(c(b))}catch(e){d(e)}})})}}var a=c("./core.js"),
g=c("asap");d.exports=a;b.prototype=Object.create(a.prototype);var k=new b(!0),e=new b(!1),m=new b(null),l=new b(void 0),f=new b(0),n=new b("");a.resolve=function(c){if(c instanceof a)return c;if(null===c)return m;if(void 0===c)return l;if(!0===c)return k;if(!1===c)return e;if(0===c)return f;if(""===c)return n;if("object"===typeof c||"function"===typeof c)try{var d=c.then;if("function"===typeof d)return new a(d.bind(c))}catch(g){return new a(function(a,c){c(g)})}return new b(c)};a.from=a.cast=function(c){var b=
Error("Promise.from and Promise.cast are deprecated, use Promise.resolve instead");b.name="Warning";console.warn(b.stack);return a.resolve(c)};a.denodeify=function(c,b){b=b||Infinity;return function(){var d=this,e=Array.prototype.slice.call(arguments);return new a(function(a,f){for(;e.length&&e.length>b;)e.pop();e.push(function(c,b){c?f(c):a(b)});c.apply(d,e)})}};a.nodeify=function(c){return function(){var b=Array.prototype.slice.call(arguments),d="function"===typeof b[b.length-1]?b.pop():null;try{return c.apply(this,
arguments).nodeify(d)}catch(e){if(null===d||"undefined"==typeof d)return new a(function(a,b){b(e)});g(function(){d(e)})}}};a.all=function(){var b=1===arguments.length&&Array.isArray(arguments[0]),c=Array.prototype.slice.call(b?arguments[0]:arguments);b||(b=Error("Promise.all should be called with a single array, calling it with multiple arguments is deprecated"),b.name="Warning",console.warn(b.stack));return new a(function(a,b){function d(f,g){try{if(g&&("object"===typeof g||"function"===typeof g)){var k=
g.then;if("function"===typeof k){k.call(g,function(a){d(f,a)},b);return}}c[f]=g;0===--e&&a(c)}catch(h){b(h)}}if(0===c.length)return a([]);for(var e=c.length,f=0;f<c.length;f++)d(f,c[f])})};a.reject=function(b){return new a(function(a,c){c(b)})};a.race=function(b){return new a(function(c,d){b.forEach(function(b){a.resolve(b).then(c,d)})})};a.prototype.done=function(a,b){(arguments.length?this.then.apply(this,arguments):this).then(null,function(a){g(function(){throw a;})})};a.prototype.nodeify=function(a){if("function"!=
typeof a)return this;this.then(function(b){g(function(){a(null,b)})},function(b){g(function(){a(b)})})};a.prototype["catch"]=function(a){return this.then(null,a)}},{"./core.js":22,asap:24}],24:[function(c,d,h){(function(b){function a(){for(;c.next;){c=c.next;var b=c.task;c.task=void 0;var d=c.domain;d&&(c.domain=void 0,d.enter());try{b()}catch(f){if(l)throw d&&d.exit(),setTimeout(a,0),d&&d.enter(),f;setTimeout(function(){throw f;},0)}d&&d.exit()}e=!1}var c={task:void 0,next:null},k=c,e=!1,h=void 0,
l=!1;if("undefined"!==typeof b&&b.nextTick)l=!0,h=function(){b.nextTick(a)};else if("function"===typeof setImmediate)h="undefined"!==typeof window?setImmediate.bind(window,a):function(){setImmediate(a)};else if("undefined"!==typeof MessageChannel){var f=new MessageChannel;f.port1.onmessage=a;h=function(){f.port2.postMessage(0)}}else h=function(){setTimeout(a,0)};d.exports=function(a){k=k.next={task:a,domain:l&&b.domain,next:null};e||(e=!0,h())}}).call(this,c("_process"))},{_process:28}],25:[function(c,
d,h){var b=c("performance-now"),a="undefined"===typeof window?{}:window;c=["moz","webkit"];var g=a.requestAnimationFrame,k=a.cancelAnimationFrame||a.cancelRequestAnimationFrame,e=!0;for(h=0;h<c.length&&!g;h++)g=a[c[h]+"RequestAnimationFrame"],k=a[c[h]+"CancelAnimationFrame"]||a[c[h]+"CancelRequestAnimationFrame"];if(!g||!k)var e=!1,m=0,l=0,f=[],n=1E3/60,g=function(a){if(0===f.length){var c=b(),d=Math.max(0,n-(c-m));m=d+c;setTimeout(function(){for(var a=f.slice(0),b=f.length=0;b<a.length;b++)if(!a[b].cancelled)try{a[b].callback(m)}catch(c){setTimeout(function(){throw c;
},0)}},Math.round(d))}f.push({handle:++l,callback:a,cancelled:!1});return l},k=function(a){for(var b=0;b<f.length;b++)f[b].handle===a&&(f[b].cancelled=!0)};d.exports=function(b){return e?g.call(a,function(){try{b.apply(this,arguments)}catch(a){setTimeout(function(){throw a;},0)}}):g.call(a,b)};d.exports.cancel=function(){k.apply(a,arguments)}},{"performance-now":26}],26:[function(c,d,h){(function(b){(function(){var a,c,k;"undefined"!==typeof performance&&null!==performance&&performance.now?d.exports=
function(){return performance.now()}:"undefined"!==typeof b&&null!==b&&b.hrtime?(d.exports=function(){return(a()-k)/1E6},c=b.hrtime,a=function(){var a;a=c();return 1E9*a[0]+a[1]},k=a()):Date.now?(d.exports=function(){return Date.now()-k},k=Date.now()):(d.exports=function(){return(new Date).getTime()-k},k=(new Date).getTime())}).call(this)}).call(this,c("_process"))},{_process:28}],27:[function(c,d,h){function b(){this.positionQueue=[];this.timeQueue=[]}d.exports=b;b.prototype.reset=function(){this.positionQueue.splice(0);
this.timeQueue.splice(0)};b.prototype.pruneQueue=function(a){for(;this.timeQueue.length&&this.timeQueue[0]<Date.now()-a;)this.timeQueue.shift(),this.positionQueue.shift()};b.prototype.updatePosition=function(a){this.positionQueue.push(a);this.timeQueue.push(Date.now());this.pruneQueue(50)};b.prototype.getVelocity=function(){this.pruneQueue(1E3);var a=this.timeQueue.length;return 2>a?0:(this.positionQueue[a-1]-this.positionQueue[0])/((this.timeQueue[a-1]-this.timeQueue[0])/1E3)}},{}],28:[function(c,
d,h){function b(){}c=d.exports={};c.nextTick=function(){if("undefined"!==typeof window&&window.setImmediate)return function(a){return window.setImmediate(a)};if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var a=[];window.addEventListener("message",function(b){var c=b.source;c!==window&&null!==c||"process-tick"!==b.data||(b.stopPropagation(),0<a.length&&a.shift()())},!0);return function(b){a.push(b);window.postMessage("process-tick","*")}}return function(a){setTimeout(a,
0)}}();c.title="browser";c.browser=!0;c.env={};c.argv=[];c.on=b;c.addListener=b;c.once=b;c.off=b;c.removeListener=b;c.removeAllListeners=b;c.emit=b;c.binding=function(a){throw Error("process.binding is not supported");};c.cwd=function(){return"/"};c.chdir=function(a){throw Error("process.chdir is not supported");}},{}]},{},[8])(8)});
